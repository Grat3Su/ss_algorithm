
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        span{
            padding: 10px;
        }
    </style>
</head>
<body>
    <div id="container">
        <h3>받은 데이터</h3>
        <div id="receivedData">  </div>
    </div>
        <hr>
        <button id="btnGet">가져오기</button>
        
        <script>
            window.onload = function(){
                document.querySelector("#btnGet").onclick = getJson;
                
            }

            async function getJson(){
                const url = 'http://localhost:8080/bbb/SimpleFetchGetListServelt';

                let response = await fetch(url);
                let userList = await response.json();

                let userHtml =``; 
                userList.forEach((user)=>{
                    userHtml += `<div><span>${user.userSeq}</span><span>${user.userName}</span><span>${user.userEmail}</span></div>`;
                });
                document.querySelector("#receivedData").innerHTML = userHtml;

                //fetch
                // fetch(url)
                // .then((response)=>response.json())//json 비동기
                // .then((userList)=>{
                    
                //     document.querySelector("#receivedData").innerHTML = userHtml;
                // })//parse할 필요 없이 바로 넣어준다. fetch의 규칙

                
            }
        </script>
</body>
</html>